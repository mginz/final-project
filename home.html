<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no, width=device-width">
    
    <Name>Bar App</Name>

    <link href="http://code.ionicframework.com/1.0.0-beta.9/css/ionic.css" rel="stylesheet">
    <script src="http://code.ionicframework.com/1.0.0-beta.9/js/ionic.bundle.js">
    </script>
    
    <script src="http://code.ionicframework.com/contrib/ionic-contrib-swipecards/ionic.swipecards.js?3"></script>
    
    <link rel="stylesheet" type="text/css" href="css.css" media="screen" />

  </head>
  <body ng-app="starter" class="slide-left-right-ios7" no-scroll>

<script type='text/javascript' src='localdata.js'></script>

<!--script.js-->
  <script> 
angular.module('starter', ['ionic', 'ionic.contrib.ui.cards'])

    .directive('noScroll', function($document) {
        return {
            restrict: 'A',
            link: function($scope, $element, $attr) {
                $document.on('touchmove', function(e) {
                    e.preventDefault();
          });
    }};
})



.controller('CardsCtrl', function($scope, $ionicSwipeCardDelegate) {
  var cardTypes = bardata; 
  $scope.cards = Array.prototype.slice.call(cardTypes, 0, 0);
  $scope.cardSwiped = function(index) {
    $scope.addCard();
  };

  console.log(cardTypes)

  $scope.addCard = function() {
    var newCard = cardTypes[Math.floor(Math.random() * cardTypes.length)];
    newCard.id = Math.random();
    $scope.cards.push(angular.extend({}, newCard));
  };
})

.controller('CardCtrl', function($scope, $ionicSwipeCardDelegate) {
  $scope.goAway = function() {
    var card = $ionicSwipeCardDelegate.getSwipebleCard($scope);
    card.swipe();
  };
});
</script>

    <ion-pane ng-controller="CardsCtrl">
      <ion-header-bar class="bar-transparent">
        <h1 class="Title">Find a bar near you! Swipe down if you don't like what you see.</h1>
      </ion-header-bar>

      <swipe-cards on-swipe="onSwipe($event)">

      <swipe-cards>
        <swipe-card on-swipe="cardSwiped()" id="start-card">
          Swipe down for a new card
        </swipe-card>
        <swipe-card ng-repeat="card in cards" on-destroy="cardDestroyed($index)" on-swipe="cardSwiped($index)">

          <div ng-controller="CardCtrl">
            <div class="Name">
              {{card.Name}}
            </div>
            <div class="img">
              <img ng-src="{{card.img}}">
            </div>
			<div class="Location">
				{{card.Location}}
			</div>

            


     </body>
</html>
